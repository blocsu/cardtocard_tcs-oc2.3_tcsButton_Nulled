ОПЛАТА С КАРТЫ НА КАРТУ ТИНЬКОФФ БАНК (ФИЗ.ЛИЦА) ДЛЯ ОС 2.3
Лицензионный ключ отправляется автоматически на почту аккаунта покупателя, если письма Вы не нашли, проверьте папку спам, если письмо в спаме, то пожалуйста поставьте отметку не спам. При отсутствии ключа в папке спам напишите в поддержку.

Модуль позволяет принимать оплату на любую карту физического лица напрямую. Не требуется заключать никаких договоров, достаточно иметь любую банковскую карту (на банковские карты Тинькофф переводы без комиссий). На данный момент существует ограничение у всех платежных систем на прием с карт на счет физического лица не более 15тр (Данная сумма у всех агрегаторов, это установлено на уровне закона). Данным модулем вы можете обойти такое ограничение и принимать оплату свыше 15 000 рублей за раз! Лимиты и комиссии описаны на странице https://www.tinkoff.ru/cardtocard/ Купить модуль или лицензию на другой домен можно по ссылке

Теперь вы можете спокойно получать деньги от покупателей напрямую на Вашу карту моментально. Хотелось бы отметить что для приема платежей до 15000р, рекомендуется использовать модуль для физических лиц Карты и Яндекс деньги ++, в модулях все продумано таким образом что можно задать верхнюю и нижнюю границу суммы к оплате, благодаря этому модуль будет скрываться и появляться соответственно. 

 

Установка и настройка:

Скачать архив в месте приобретения модуля. Подробные инструкции по покупке и получения архива ищите на сайтах.
 
Разархивировать архив. Вы увидите файл cardtocard.ocmod.zip. 
 
Установите его через установщик. Зайдите в модификаторы (менеджер дополнений) и обновите кэш модификаторов. Если у вас проблемы с установщикам вам поможет дополнение по ссылке

 
Зайдите в админ панель - меню дополнения - платежи (оплата) - Оплата c карты на карту (Тинькофф) - нажмите Установить

 
Войдите в настройки дополнения, нажав ссылку изменить

 
Введите лицензионный ключ, правила получения лицензионного ключа описаны по адресу http://store.pe-art.ru/key

 
Введите номер карты на которую Вы будите получать оплату

 
Установите статус после подтверждения заказа - это статус при котором разрешена оплата и он устанавливается автоматически при создании заказа покупателем,

для других статусов оплата будет не доступна

 
Установите статус после подтверждения оплаты покупателем - данный статус устанавливается автоматически при нажатии кнопки платеж отправлен после отправки денег Вам на карту с помощью формы

а также заказы с этим статусом доступны по кнопке "Платежи на проверки", она находится вверху рядом с кнопкой сохранить и отмена в настройках модуля, а также вы можете установить vqmod и ocmod из папки not_required архива модуля, тогда вы увидите ссылку в меню продажи на страницу где отображены все заказы с данным статусом, которые ожидают проверки платежа, также в этой таблице вы увидите последние 4 цифры с которого отправлен платеж и сможете быстро перейти в просмотр заказа для смены статуса или отправить письмо покупателю кликнув на его email

 
Установите статус включено для активации модуля. Остальные настройки по желанию, все основные настройки уже сделаны по умолчанию.

 
Сохраните настройки нажав кнопку сохранить
 
Установка и настройка завершена!
Дополнительные возможности:

Переменные и использование полей из Simple:

Название берется из вкладки "Настройка полей" строка ID

 

 

Для Simple 4.x

~paymentsimple4_имяполя~ - поле привязанное к адресу оплаты

~shippingsimple4_имяполя~ - поле привязанное к адресу доставки

~simple4_имяполя~ - поле привязанное к учетной записи покупателя

 

 

Пример: 

ИНН/КПП: ~simple4_inn~/~simple4_kpp~

 

 

Также доступны переменные:

~href~ - ссылка на оплату

~order_id~ - номер заказа 

~card4num~ - вывод поля для ввода 4 последних цифр и кнопки подтверждения оплаты

~itogo~ - сумма к оплате с учетом комисси если указана

~total2~ - сумма к оплате без учета комисси

~itogobez~ - сумма к оплате без символа валюты

~itogozakaz~ - сумма заказа

~komis~ - комисcия в процентах
~total-komis~ - посчитанная комиссия от суммы
~plus-komis~ - сумма с комиссией

~totals~ - сумма заказа в текущей валюте

~invoice_no~ - номер счета 

~invoice_prefix~ - префикс счета 

~store_id~ - id магазина 

~store_name~ - название магазина 

~store_url~ - url магазина 

~customer_id~ - id покупателя 

~customer_group_id~ - id группы покупателя

~firstname~ - имя 

~lastname~ - фамилия 

~telephone~ - телефон 

~fax~ - факс 

~email~ - почта 

~payment_firstname~ - имя плательщика 

~payment_lastname~ - фамилия плательщика 

~payment_company~ - компания плательщика 

~payment_address_1~ - адрес плательщика 

~payment_address_2~ - адрес2 плательщика 

~payment_postcode~ - индекс плательщика 

~payment_city~ - город плательщика 

~payment_zone_id~ - id гео зоны плательщика 

~payment_zone~ - гео зона плательщика 

~payment_zone_code~ - код зоны плательщика 

~payment_country_id~ - id страны плательщика 

~payment_country~ - страна плательщика 

~payment_iso_code_2~ - iso код плательщика 

~payment_iso_code_3~ - iso код плательщика 

~payment_address_format~ - формат адреса плательщика 

~payment_method~ - метод оплаты 

~payment_code~ - код оплаты

~shipping_firstname~ - имя для доставки 

~shipping_lastname~ - фамилия для доставки 

~shipping_company~ - компания для доставки 

~shipping_address_1~ - адрес доставки 

~shipping_address_2~ - адрес2 доставки 

~shipping_postcode~ - индекс для доставки 

~shipping_city~ - город доставки 

~shipping_zone_id~ - id гео зоны доставки 

~shipping_zone~ - гео зона доставки 

~shipping_zone_code~ - код зоны доставки 

~shipping_country_id~ - id страны доставки 

~shipping_country~ - страна доставки 

~shipping_iso_code_2~ - iso код доставки 

~shipping_iso_code_3~ - iso код доставки 

~shipping_address_format~ - формат адреса доставки 

~shipping_method~ - метод доставки 

~shipping_code~ - код метода доставки 

~comment~ - комментарий 

~total~ - итого (в валюте по умолчанию) 

~order_status_id~ - id статуса заказа 

~order_status~ - статус заказа 

~language_id~ - id языка 

~language_code~ - код языка 

~language_filename~ - файл языка 

~language_directory~ - дирректория языка 

~currency_id~ - id валюты 

~currency_code~ - код валюты 

~currency_value~ - курс валюты 

~ip~ - ip 

~forwarded_ip~ - переадресованный ip 

~user_agent~ - юзер агент 

~accept_language~ - язык 

~date_modified~ - дата изменения заказа 

~date_added~ - дата создания заказа

 

Некоторые переменные могут не работать, зависит от версии магазина и места вывода.

 

Шаблоны отображения:

Шаблоны находятся по адресу catalog/view/theme/default/teplate/extension/payment/

cardtocard_success.tpl - страница после офрмления заказа

cardtocard_again.tpl - страница повторного перехода на оплату по ссылке из письма

cardtocard_payed.tpl - страница удачно отправленной оплаты

cardtocard_static.tpl - статическая форма для оплаты (доступна по ссылке http://domain_name/index.php?route=payment/cardtocard/success

cardtocardpay_nopay.tpl - страница запрещенной оплаты

 

По этим страницам можно очень гибко настроить статистику для сайта, например метрику по инструкции как для обычной страницы удачно оформленного заказа

 

Корректировка шаблона под стиль темы:

Так как форма для ввода реквизитов карты грузится со стороннего ресурса возможно будет необходима корректировка шаблона модуля

необходимо отредактировать 2 файла

cardtocard_success.tpl

cardtocard_again.tpl

только на них присутствует форма

 

Пример: обычно съезжает кнопка оплатить

для ее правки необходимо поправить стили
 

#tenform {

    margin-top: -193px;

    height: 757px;

    width: 100%;

  }
 

а именно увеличить height: 757px; на большее количество пикселов например height: 957px;

также есть стиль под мобильные устройства @media only screen and (max-device-width: 480px) {

более подробно о стилях можно узнать на сайте http://htmlbook.ru/CSS
